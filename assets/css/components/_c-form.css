@layer components {
  /* ========================================================================
     Componente: Formulário (Form) — compacto e responsivo
     ======================================================================== */

  .c-form {
    /* compactação controlada por variáveis */
    --field-gap: var(--space-md);
    --input-py: .55rem;       /* padding vertical dos inputs */
    --label-fz: .95rem;       /* tamanho dos labels */

    background: var(--color-surface);
    border-radius: var(--radius-lg);
    background-clip: padding-box;
    padding: var(--space-xl);
	padding-block-end: clamp(12px, 2vh, 20px);
	position: relative;
    box-shadow: var(--shadow-lg);
    color-scheme: light;
	overflow: visible;

    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);

    container-type: inline-size; /* habilita @container */
    isolation: isolate;
  }

/* Menos espaço entre campos dentro do form de contato */
@container (min-width: 0){
  .c-contact__content-grid > .c-form{
    gap: var(--space-sm); /* antes era --space-md */
  }
}

  /* Em telas menores (pela largura real do card) reduz o padding */
  @container (max-width: 560px){
    .c-form{ padding: var(--space-lg); }
  }
  
.c-contact__info.c-card::before,
.c-form::before{
  content: "";
  position: absolute;
  top: 0;                    /* encosta no topo */
  left: 50%;                 /* centraliza */
  width: clamp(160px, 45%, 420px);   /* pega só um pedaço no centro */
  height: 6px;
  transform: translate(-50%, -50%);  /* meia sobreposição pra fora */
  border-radius: 999px;
  background: linear-gradient(90deg,#143258,#5fc6d4,#fcb821,#985aae);
  box-shadow: 0 1px 0 rgba(0,0,0,.04), 0 6px 18px rgba(0,0,0,.08); /* “gentileza” */
  pointer-events: none;
}

  /* --- Lógica de Layout da Página de Contato --- */
  .c-contact__content-grid > .c-form { grid-area: form; }

  @media (min-width: 960px) {
    .c-contact__content-grid > .c-form {
      justify-self: stretch;  /* ocupa toda a coluna */
      display: grid;
      gap: var(--space-sm);
    }
  }
  /* --- Fim da Lógica de Layout --- */

  /* Campos mais enxutos */
  .c-form .c-field { margin: 0 0 var(--field-gap); }
  .c-form .c-field:last-child { margin-bottom: 0; }

  .c-form .c-field__label{
    font-size: var(--label-fz);
    margin-bottom: .35rem;
  }

  /* mantém mínimo de 44px para acessibilidade */
  .c-form .c-field__input{
    padding-block: var(--input-py);
    min-block-size: 44px;
    line-height: 1.2;
  }

  /* textarea mais baixo, ainda redimensionável */
  .c-form textarea.c-field__input{
    min-block-size: clamp(120px, 16vh, 160px);
    resize: vertical;
  }

  .c-form__actions{
    display: flex;
    align-items: center;
	justify-content: center;
    gap: var(--space-md);
    margin-top: var(--space-md); /* ↓ antes era var(--space-lg) */
  }
  
  /* Botão menor */
.c-form__actions .c-btn{
  padding: .55rem 1rem;   /* menos “gordura” */
  min-height: 40px;       /* levemente menor que 44px */
  font-size: .95rem;      /* discretamente menor */
  border-radius: 10px;    /* mantém o estilo, um pouco mais compacto */
}

  .c-form__status{
    margin: var(--space-sm) 0 0;
    color: var(--color-text-muted);
    min-height: 1.2rem;
    font-size: .9rem;
  }
  .c-form__status:empty{ display:block; visibility:hidden; }

  /* --- Estados do formulário --- */
  #contact-form[data-state="loading"]{
    opacity:.65;
    pointer-events:none;
    cursor:progress;
  }
  #contact-form[data-state="success"] .c-form__status{ color: var(--color-success, #10B981); }
  #contact-form[data-state="error"] .c-form__status{ color: var(--color-error, #b91c1c); }

  #contact-form [data-js="submit"]{ min-height:44px; }
  #contact-form [data-js="submit"][disabled]{ cursor:not-allowed; opacity:.7; }

  @keyframes c-form-spin { to { transform: rotate(360deg); } }
  #contact-form[data-state="loading"] [data-js="submit"]{ position:relative; }
  #contact-form[data-state="loading"] [data-js="submit"]::after{
    content:"";
    width:18px; height:18px;
    border:2px solid currentColor; border-right-color:transparent;
    border-radius:50%;
    position:absolute; right:var(--space-md); top:50%; transform:translateY(-50%);
    animation:c-form-spin .8s linear infinite;
  }

  .c-form :focus-visible{
    outline:2px solid var(--color-primary);
    outline-offset:2px;
  }

  /* Preferências/compat */
  @media (prefers-reduced-motion: reduce){
    #contact-form[data-state="loading"] [data-js="submit"]::after{ content:none; }
  }
  @supports not (backdrop-filter:blur(0)){
    .c-form{ backdrop-filter:none; -webkit-backdrop-filter:none; }
  }
}

/* Opcional: no mobile, ocupar a largura toda */
@media (max-width: 480px){
  .c-form__actions .c-btn{ width: 100%; }
}
