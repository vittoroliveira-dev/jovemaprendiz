@layer components {
  /* ========================================================================
     Componente: Navegação Principal (.c-nav)
     ======================================================================== */

  /* --- Estrutura Geral --- */
  .c-nav{ position:static; z-index:1000; margin-right:auto; }
  .c-nav__list{
    display:flex; align-items:center; gap:var(--space-lg);
    flex-wrap:wrap; list-style:none; margin:0; padding:0;
  }
  .c-nav__item--has-dropdown{ position:relative; }

  /* --- Links de Navegação (padrão pill azul) --- */
  .c-nav__link{
    display:inline-flex; align-items:center; gap:.35rem;
    padding:.5rem 1rem;
    border-radius: var(--radius-pill, 999px);
    color:#0F4C81;
    text-decoration:none; background:transparent;
    border:1px solid color-mix(in srgb, #0F4C81 35%, var(--color-border));
    font-weight:600; white-space:nowrap;
    transition: background .2s ease, color .2s ease, border-color .2s ease;
  }
  .c-nav__link--pill,
  button.c-nav__link{
    -webkit-appearance:none; appearance:none; font:inherit; cursor:pointer;
    padding:.5rem 1rem;
    color:#0F4C81; background:transparent;
    border:1px solid color-mix(in srgb, #0F4C81 35%, var(--color-border));
    border-radius: var(--radius-pill, 999px);
    box-shadow:none;
  }

  @media (hover:hover){
    .c-nav__item--has-dropdown > .c-nav__link:hover,
    .c-nav__link--pill:hover{
      background: color-mix(in srgb, #0F4C81 10%, transparent);
    }
  }

  .c-nav__link:focus-visible,
  button.c-nav__link:focus-visible{
    outline:2px solid color-mix(in srgb, #0F4C81 45%, transparent);
    outline-offset:2px;
    background: color-mix(in srgb, #0F4C81 10%, transparent);
  }

  .c-nav__link--pill:active{ transform: translateY(1px) scale(.98); }

  /* --- Ícones --- */
  .c-icon--dropdown-arrow{ opacity:.7; transition: transform .2s ease, opacity .2s ease; }
  .c-nav__link[aria-expanded="true"] .c-icon--dropdown-arrow{ transform:rotate(180deg); opacity:1; }

  /* --- Toggle Mobile --- */
  .c-nav__toggle{
    display:none; place-items:center; position:relative;
    inline-size:44px; block-size:44px; border-radius:8px;
    background:var(--color-surface); color:var(--color-primary);
    border:1px solid var(--color-border); cursor:pointer;
    transition: background .2s ease, box-shadow .2s ease;
  }
  .c-nav__toggle:focus-visible{ outline:2px solid var(--color-focus); outline-offset:2px; }

  .c-nav__lines, .c-nav__lines::before, .c-nav__lines::after{
    content:""; display:block; position:absolute;
    inline-size:20px; block-size:2px; background:currentColor; border-radius:2px;
    transition: transform .3s ease, top .3s ease;
  }
  .c-nav__lines{ background:transparent; }
  .c-nav__lines::before{ top:-6px; }
  .c-nav__lines::after{ top:6px; }
  body.has-nav-open .c-nav__lines::before{ transform:rotate(45deg); top:0; }
  body.has-nav-open .c-nav__lines::after{ transform:rotate(-45deg); top:0; }

  /* --- Fallback sem JS --- */
  .no-js .c-nav{ display:block; position:static; height:auto; box-shadow:none; }
  .no-js .c-nav__toggle{ display:none; }

  /* ===== Index: sobre o hero (classe do script) ===== */
  html.over-hero .c-header .c-nav__link,
  html.over-hero .c-header .c-nav__link--pill,
  html.over-hero .c-header button.c-nav__link{
    color:#fff !important;                /* fonte branca */
    border-color:transparent !important;  /* sem borda */
    box-shadow:none !important; background:transparent !important;
  }

  /* ========================================================================
     Mobile (até 48em / 768px)
     ======================================================================== */
  @media (max-width:48em){
    .c-nav__toggle{ display:grid; }
    .c-nav{
      display:none; position:fixed; top:var(--header-height,64px); inset-inline:0;
      height:calc(100dvh - var(--header-height,64px));
      overflow-y:auto; background:var(--color-surface,#fff);
      box-shadow:0 10px 30px rgba(0,0,0,.15);
    }
    .c-nav.is-open{ display:block; }

    .c-nav__list{ flex-direction:column; align-items:stretch; gap:var(--space-sm,.5rem); padding:1rem; }

    .c-nav__link{
      display:flex; align-items:center; justify-content:space-between; width:100%;
      white-space:normal; padding:.8rem 1rem;
      border:1px solid color-mix(in srgb, #0F4C81 35%, var(--color-border));
      border-radius: var(--radius-pill, 999px);
      background-color: var(--color-surface-raised, #fff);
      font-weight:500;
    }
    button.c-nav__link{
      box-shadow:none;
      border:1px solid color-mix(in srgb, #0F4C81 35%, var(--color-border));
    }
  }
}
