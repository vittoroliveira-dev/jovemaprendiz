@layer components {
  /* ========================================================================
     Componente: Campo de Formulário (Field)
     ======================================================================== */

  /* --- Estrutura e Estilos Base --- */
  .c-field {
    display: grid;
    gap: var(--space-xs, 0.25rem);
    margin-bottom: var(--space-md);
  }

  .c-field__label {
    font-weight: var(--font-weight-medium, 600);
    color: var(--color-text);
    font-size: .9rem;
  }

  .c-field__input {
    box-sizing: border-box;
    font: inherit;
    min-inline-size: 0;
    width: 100%;
    min-height: 44px;
    line-height: 1.4;
    caret-color: var(--color-primary);
    padding: var(--space-sm) var(--space-md);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    background: var(--color-bg, var(--color-surface));
    color: var(--color-text);
    transition: box-shadow var(--transition-base), border-color var(--transition-base);
  }

  .c-field__input::placeholder {
    color: color-mix(in srgb, var(--color-text) 55%, transparent);
    opacity: .9;
  }

  /* --- Estados (Foco, Validação, etc.) --- */
  .c-field__input:focus {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--color-primary) 15%, transparent);
    outline: 0;
  }

  .c-field__input:focus-visible {
    /* Esta regra é um fallback, a do .c-form é mais específica */
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
  }
  
  .c-field__input:required:is(:user-valid, :valid) {
    border-color: var(--color-success, #16a34a);
  }
  
  .c-field__input:is(:user-invalid, :invalid:not(:placeholder-shown)) {
    border-color: var(--color-error, #b91c1c);
  }

  /* Mensagens de ajuda/erro */
  .c-field__hint,
  .c-field__error {
    font-size: .85rem;
    color: var(--color-text-muted);
  }
  .c-field__error {
    color: var(--color-error, #b91c1c);
  }

  /* --- Tipos Específicos de Input --- */
  textarea.c-field__input {
    resize: vertical;
    min-height: 7.5rem;
  }

  select.c-field__input {
    appearance: none;
    padding-right: calc(var(--space-md) + 1.25em);
    background: no-repeat right var(--space-md) center / 1em;
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'/></svg>");
  }

  input[type="number"].c-field__input { -moz-appearance: textfield; }
  input[type="number"].c-field__input::-webkit-outer-spin-button,
  input[type="number"].c-field__input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }
  
  /* --- Acessibilidade e Preferências do Usuário --- */
  @media (prefers-color-scheme: dark) {
    .c-field__input:-webkit-autofill {
      box-shadow: 0 0 0 1000px #111827 inset;
      -webkit-text-fill-color: #e5e7eb;
    }
  }

  /* iOS: evita zoom ao focar */
  @media (max-width: 480px) {
    .c-field__input {
      font-size: 16px;
    }
  }

  /*
   * ========================================================================
   * AJUSTES ESPECÍFICOS PARA O CONTEXTO DA PÁGINA DE CONTATO (DESKTOP)
   * ========================================================================
  */
  @media (min-width: 960px) {
    /* Seletores mais específicos para garantir que só se apliquem na página de contato */
    .c-contact .c-field__label {
      margin-bottom: .3rem;
      font-size: .95rem;
    }
    .c-contact .c-field__input {
      padding-block: .5rem;
    }
    .c-contact textarea.c-field__input {
      min-height: 6rem;
    }
  }
}