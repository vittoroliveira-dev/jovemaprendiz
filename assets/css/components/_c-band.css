@layer components{
  .c-band{
    position:relative;
    z-index:0;
    isolation:isolate;                         /* garante a curva atrás do conteúdo */
    background: var(--color-band);
    padding: clamp(2.5rem, 5vw, 5rem) 0;
    scroll-margin-top: var(--header-height, 72px);
  }

  .c-band__title{
    text-align:center;
    font-size: clamp(1.8rem, 3.5vw, 2.5rem);
    margin: 0 0 var(--space-md, 16px);
    color: var(--color-text);
    text-wrap: balance;
  }

  .c-band__lead{
    text-align:center;
    color: var(--color-text-muted);
    margin: 0 auto var(--space-xl, 32px);
    max-width: 70ch;
    text-wrap: pretty;
  }

  .c-band__grid{
    display:grid;
    gap: var(--space-lg, 20px);
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    align-items: stretch;                      /* cards com alturas consistentes */
  }

  .c-band--curve-bottom{ position:relative; margin-bottom: var(--space-lg, 20px); }
  .c-band--curve-bottom::after{
    content:"";
    position:absolute; left:0; right:0;
    bottom: calc(-1 * var(--space-lg, 20px));
    height: var(--space-xxl, 56px);
    background: var(--color-surface);
    border-top-left-radius: 50% 100%;
    border-top-right-radius: 50% 100%;
    box-shadow: var(--shadow-sm);
    pointer-events:none;
    z-index:-1;                                /* fica atrás, graças ao isolation */
  }

  @media (max-width: 768px){
    .c-band--curve-bottom{ margin-bottom: var(--space-md, 16px); }
    .c-band--curve-bottom::after{
      bottom: calc(-1 * var(--space-md, 16px));
      height: var(--space-xl, 40px);
    }
  }

  @supports (content-visibility: auto){
    .c-band{ content-visibility:auto; contain-intrinsic-size: 480px; }
  }

  @media (forced-colors: active){
    .c-band--curve-bottom::after{ box-shadow:none; }
  }
}

/* Print: remove curva/fundo para economia de tinta */
@media print{
  .c-band{ background: transparent !important; }
  .c-band--curve-bottom::after{ content:none !important; }
}
